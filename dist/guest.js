(()=>{var H=(()=>{let i=null,l=null,g=0,c=0,b=!0,a=null,p=()=>{g+=1},x=()=>`(${c}/${g}) [${parseInt(c/g*100).toFixed(0)}%]`;return{init:()=>{i=document.getElementById("progress-info"),l=document.getElementById("progress-bar"),i.classList.remove("d-none"),a=new Promise(h=>document.addEventListener("undangan.progress.invalid",h))},add:p,invalid:h=>{b&&(b=!1,document.dispatchEvent(new Event("undangan.progress.invalid")))},complete:(h,A=!1)=>{b&&document.dispatchEvent(new Event("undangan.progress.done"))},getAbort:()=>a}})();var f=(()=>{let i='<span class="spinner-border spinner-border-sm my-0 ms-0 me-1 p-0" style="height: 0.8rem; width: 0.8rem;"></span>',l=[["*",'<strong class="text-theme-auto">$1</strong>'],["_",'<em class="text-theme-auto">$1</em>'],["~",'<del class="text-theme-auto">$1</del>'],["```",'<code class="font-monospace text-theme-auto">$1</code>']],g=[{type:"Mobile",regex:/Android.*Mobile|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i},{type:"Tablet",regex:/iPad|Android(?!.*Mobile)|Tablet/i},{type:"Desktop",regex:/Windows NT|Macintosh|Linux/i}],c=[{name:"Chrome",regex:/Chrome|CriOS/i},{name:"Safari",regex:/Safari/i},{name:"Edge",regex:/Edg|Edge/i},{name:"Firefox",regex:/Firefox|FxiOS/i},{name:"Opera",regex:/Opera|OPR/i},{name:"Internet Explorer",regex:/MSIE|Trident/i},{name:"Samsung Browser",regex:/SamsungBrowser/i}],b=[{name:"Windows",regex:/Windows NT ([\d.]+)/i},{name:"MacOS",regex:/Mac OS X ([\d_.]+)/i},{name:"Android",regex:/Android ([\d.]+)/i},{name:"iOS",regex:/OS ([\d_]+) like Mac OS X/i},{name:"Linux",regex:/Linux/i},{name:"Ubuntu",regex:/Ubuntu/i},{name:"Chrome OS",regex:/CrOS/i}],a=e=>String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),p=e=>{let y=k=>{window.alert(`${k} ${e}`)};return{success:()=>y("\u{1F7E9}"),error:()=>y("\u{1F7E5}"),warning:()=>y("\u{1F7E8}"),info:()=>y("\u{1F7E6}"),custom:k=>y(k)}},x=e=>window.confirm(`\u{1F7E6} ${e}`),u=(e,y)=>(e.replaceChildren(document.createRange().createContextualFragment(y)),e),E=(e,y,k=.05)=>new Promise(R=>{let q=parseFloat(e.style.opacity),d=y?1:0,w=()=>{q+=y?k:-k,q=Math.max(0,Math.min(1,q)),e.style.opacity=q.toFixed(2),y&&q>=d||!y&&q<=d?(e.style.opacity=d.toString(),R(e)):requestAnimationFrame(w)};requestAnimationFrame(w)}),v=(e,y=0)=>{let k=null;k=setTimeout(()=>{e(),clearTimeout(k),k=null},y)};return{loader:i,ask:x,copy:async(e,y=null,k=1500)=>{let R=e.getAttribute("data-copy");if(!R||R.length===0){p("Nothing to copy").warning();return}e.disabled=!0;try{await navigator.clipboard.writeText(R)}catch{e.disabled=!1,p("Failed to copy").error();return}let q=e.innerHTML;u(e,y||'<i class="fa-solid fa-check"></i>'),v(()=>{e.disabled=!1,e.innerHTML=q},k)},notify:p,timeOut:v,debounce:(e,y=100)=>{let k=null;return(...R)=>{clearTimeout(k),k=setTimeout(()=>e(...R),y)}},escapeHtml:a,base64Encode:e=>{let k=new TextEncoder().encode(e);return window.btoa(String.fromCharCode(...k))},base64Decode:e=>{let y=new TextDecoder,k=Uint8Array.from(window.atob(e),R=>R.charCodeAt(0));return y.decode(k)},disableButton:(e,y="Loading",k=!1)=>{e.disabled=!0;let R=e.innerHTML;return u(e,k?y:i+y),{restore:(q=!1)=>{e.innerHTML=R,e.disabled=q}}},disableCheckbox:e=>{e.disabled=!0;let y=document.querySelector(`label[for="${e.id}"]`),k=y.innerHTML;return u(y,i+k),{restore:()=>{y.innerHTML=k,e.disabled=!1}}},safeInnerHTML:u,parseUserAgent:e=>{if(!e||typeof e!="string")return"Unknown";let y=g.find(w=>w.regex.test(e))?.type??"Unknown",k=c.find(w=>w.regex.test(e))?.name??"Unknown",R=b.find(w=>w.regex.test(e)),q=R?R.name:"Unknown",d=R?e.match(R.regex)?.[1]?.replace(/_/g,".")??null:null;return`${k} ${y} ${d?`${q} ${d}`:q}`},changeOpacity:E,getGMTOffset:e=>{let y=new Date,k=new Intl.DateTimeFormat("en-US",{timeZone:e,hourCycle:"h23",hour:"numeric"}),R=(parseInt(k.format(y))-y.getUTCHours()+24)%24;return R>12&&(R-=24),`GMT${R>=0?"+":""}${R}`},convertMarkdownToHTML:e=>(l.forEach(([y,k])=>{e=e.replace(new RegExp(`\\${y}(\\S(?:[\\s\\S]*?\\S)?)\\${y}`,"g"),k)}),e)}})();var ae="POST",me="PATCH",ue="DELETE";var oe="AbortError",Le="TypeError",se={Accept:"application/json","Content-Type":"application/json"},fe="request",ie=(()=>{let i=null;return{getInstance:l=>{if(!i||!i.has(l))throw new Error(`please init cache first: ${l}`);return i.get(l)},restart:async l=>{i.set(l,null),i.delete(l),await window.caches.delete(l),await window.caches.open(l).then(g=>i.set(l,g))},init:(l,g=[])=>{if(!window.isSecureContext)throw new Error("this application required secure context");i=new Map,Promise.all(g.concat([fe]).map(c=>window.caches.open(c).then(b=>i.set(c,b)))).then(()=>l())}}})(),le=i=>{let l=ie.getInstance(i);return{set:(a,p,x,u)=>p.clone().arrayBuffer().then(E=>{if(!p.ok)return p;let v=new Date,s=new Headers(p.headers);if(s.has("Date")||s.set("Date",v.toUTCString()),x||!s.has("Cache-Control")){if(!x&&s.has("Expires")){let h=new Date(s.get("Expires"));u=Math.max(0,h.getTime()-v.getTime())}if(u===0)throw new Error("Cache max age cannot be 0");s.set("Cache-Control",`public, max-age=${Math.floor(u/1e3)}`)}return s.has("Content-Length")||s.set("Content-Length",String(E.byteLength)),l.put(a,new Response(E,{headers:s})).then(()=>p)}),has:a=>l.match(a).then(p=>{if(!p)return null;let x=p.headers.get("Cache-Control").match(/max-age=(\d+)/)[1],u=Date.parse(p.headers.get("Date"))+parseInt(x)*1e3;return Date.now()>u?null:p}),del:a=>l.delete(a)}},N=(i,l)=>{let g=new AbortController,c={signal:g.signal,credential:"include",headers:new Headers(se),method:String(i).toUpperCase()},b=0,a=0,p=0,x=0,u=!1,E=!1,v=null,s=null,h=null,A=T=>{let $=()=>{let P=()=>window.fetch(T,c).then(async e=>{if(u)return g.abort(),new Response(null,{status:e.status,statusText:e.statusText,headers:new Headers(e.headers)});if(!e.ok||!h)return e;let y=parseInt(e.headers.get("Content-Length")??0);if(y===0)return e;let k=[],R=0,q=e.body.getReader();for(;;){let{done:w,value:t}=await q.read();if(w)break;k.push(t),R+=t.length,await h(R,y,window.structuredClone?window.structuredClone(k):k)}let d=e.headers.get("Content-Type")??"application/octet-stream";return new Response(new Blob(k,{type:d}),{status:e.status,statusText:e.statusText,headers:new Headers(e.headers)})});if(b===0||u)return P();if(c.method!=="GET")return console.warn("Only method GET can be cached"),P();let M=le(fe);return M.has(T).then(e=>e?Promise.resolve(e):M.del(T).then(P).then(y=>M.set(T,y,E,b)))};if(a===0||p===0)return $();let C=async()=>{try{return await $()}catch(P){if(P.name===oe)throw P;if(p*=2,x++,x>a)throw new Error(`Max retries reached: ${P}`);return console.warn(`Retrying fetch (${x}/${a}): ${T.toString()}`),await new Promise(M=>window.setTimeout(M,p)),C()}};return C()},S=T=>{if(T.status!==200)return Promise.resolve(T);let $=document.querySelector("a[download]");$&&document.body.removeChild($);let C=T.headers.get("Content-Disposition")?.match(/filename="(.+)"/)?.[1];return T.clone().blob().then(P=>{let M=document.createElement("a"),e=window.URL.createObjectURL(P);return M.href=e,M.download=C||`${s}.${v||(P.type.split("/")?.[1]??"bin")}`,document.body.appendChild(M),M.click(),document.body.removeChild(M),window.URL.revokeObjectURL(e),T})};return{send(T=null){return s&&Object.keys(se).forEach($=>c.headers.delete($)),A(new URL(l,document.body.getAttribute("data-url"))).then($=>s&&$.ok?S($).then(C=>({code:C.status,data:C,error:null})):$.json().then(C=>{if(C.error){let P=C.error.at(0),M=$.status>=500;throw new Error(M?`ID: ${C.id}
\u{1F7E5} ${P}`:`\u{1F7E8} ${P}`)}return T&&(C.data=T(C.data)),Object.assign(C,{code:$.status})})).catch($=>{if($.name===oe)return console.warn("Fetch aborted:",$),$;throw $.name===Le&&($=new Error("\u{1F7E5} Network error or rate limit exceeded")),alert($.message??String($)),$})},withCache(T=1e3*60*60*6){return b=T,this},withForceCache(T=1e3*60*60*6){return E=!0,b===0&&(b=T),this},withNoBody(){return u=!0,this},withRetry(T=3,$=1e3){return a=T,p=$,this},withCancel(T){return T==null?this:((async()=>(await T,g.abort()))(),this)},withDownload(T,$=null){return s=T,v=$,this},withProgressFunc(T=null){return h=T,this},default(T=null){return c.headers=new Headers(T??{}),A(l).then($=>s?S($):Promise.resolve($))},token(T){return T.split(".").length===3?(c.headers.append("Authorization","Bearer "+T),this):(c.headers.append("x-access-key",T),this)},body(T){if(c.method==="GET")throw new Error("GET method does not support body");return c.body=JSON.stringify(T),this}}};var V=i=>{let l=new Map,g=new Map,c=le(i),b=1e3*60*60*6,a=!1,p=(h,A)=>{if(!A.ok)throw new Error(A.statusText);return c.set(h,A,a,b)},x=h=>c.has(h),u=h=>c.del(h),E=(h,A=null)=>{if(l.has(h))return Promise.resolve(l.get(h));if(g.has(h))return g.get(h);let S=()=>N("GET",h).withCancel(A).withRetry().default(),T=x(h).then($=>$?Promise.resolve($):u(h).then(S).then(C=>p(h,C))).then($=>$.blob()).then($=>l.set(h,URL.createObjectURL($))).then(()=>l.get(h)).finally(()=>g.delete(h));return g.set(h,T),T};return{run:(h,A=null)=>{let S=new Map;return h.length===0?Promise.resolve():(h.filter(T=>T!==null).forEach(T=>{let $=S.get(T.url)??[];S.set(T.url,[...$,[T.res,T?.rej]])}),Promise.allSettled(Array.from(S).map(([T,$])=>E(T,A).then(C=>($.forEach(P=>P[0]?.(C)),C)).catch(C=>($.forEach(P=>P[1]?.(C)),C)))))},del:u,has:x,set:p,get:E,open,download:async(h,A)=>{if(!new Map(Array.from(l.entries()).map(([T,$])=>[$,T])).has(h))try{if(!new URL(h).protocol.includes("blob"))throw new Error("Is not blob")}catch{h=await E(h)}return N("GET",h).withDownload(A).default()},setTtl(h){return b=Number(h),this},withForceCache(){return a=!0,this}}};var ge=(()=>{let i=null,l=()=>{let c=document.getElementById("video-love-stroy");if(!c||!c.hasAttribute("data-src"))return c?.remove(),H.complete("video",!0),Promise.resolve();let b=c.getAttribute("data-src");if(!b)return H.complete("video",!0),Promise.resolve();let a=document.createElement("video");a.className=c.getAttribute("data-vid-class"),a.loop=!0,a.muted=!0,a.controls=!1,a.autoplay=!1,a.playsInline=!0,a.preload="metadata";let p=new IntersectionObserver(E=>E.forEach(v=>v.isIntersecting?a.play():a.pause())),x=E=>{a.preload="auto",a.controls=!0,a.disableRemotePlayback=!0,a.disablePictureInPicture=!0,a.controlsList="noremoteplayback nodownload noplaybackrate",a.src=URL.createObjectURL(E)},u=()=>{let E=document.getElementById("progress-bar-video-love-stroy"),v=document.getElementById("progress-info-video-love-stroy");return N("GET",b).withNoBody().default({Range:"bytes=0-1"}).then(s=>{if(s.status===200)return a.preload="none",a.src=f.escapeHtml(b),c.appendChild(a),Promise.resolve();if(s.status!==206)throw new Error("failed to fetch video");a.addEventListener("error",()=>H.invalid("video"));let h=new Promise(A=>a.addEventListener("loadedmetadata",A,{once:!0}));return a.src=f.escapeHtml(b),c.appendChild(a),h}).then(()=>{a.pause(),a.currentTime=0,H.complete("video");let s=a.getBoundingClientRect().width*(a.videoHeight/a.videoWidth);return a.style.height=`${s}px`,c.style.height=`${s}px`,N("GET",b).withRetry().withProgressFunc((h,A)=>{let S=Number(h/A*100).toFixed(0)+"%";E.style.width=S,v.innerText=S}).default()}).then(s=>s.clone().blob().then(h=>{let A=new Promise(S=>a.addEventListener("loadedmetadata",S,{once:!0}));return x(h),a.load(),A.then(()=>s)})).catch(s=>{console.error(s)})};return i.has(b).then(E=>E?E.blob().then(v=>{let s=new Promise(h=>a.addEventListener("loadedmetadata",h,{once:!0}));return x(v),c.appendChild(a),s.then(()=>H.complete("video"))}):i.del(b).then(u).then(v=>i.set(b,v))).then(()=>{p.observe(a),a.style.removeProperty("height"),c.style.removeProperty("height"),document.getElementById("video-love-story-loading")?.remove()})};return{init:()=>(H.add(),i=V("video").withForceCache(),{load:l})}})();var pe=(()=>{let i=null,l=null,g=[],c=s=>new Promise((h,A)=>{let S=new Image;S.onload=()=>h(S),S.onerror=A,S.src=s}),b=(s,h)=>c(h).then(A=>{s.width=A.naturalWidth,s.height=A.naturalHeight,s.classList.remove("opacity-0"),s.src=A.src,A.remove(),H.complete("image")}),a=s=>{g.push({url:s.getAttribute("data-src"),res:h=>b(s,h),rej:h=>{console.error(h),H.invalid("image")}})},p=s=>{s.onerror=()=>H.invalid("image"),s.onload=()=>{s.width=s.naturalWidth,s.height=s.naturalHeight,H.complete("image")},s.complete&&s.naturalWidth!==0&&s.naturalHeight!==0?H.complete("image"):s.complete&&H.invalid("image")},x=()=>Array.from(i).some(s=>s.hasAttribute("data-src")),u=async()=>{let s=Array.from(i),h=async A=>{g.length=0,s.filter(A).forEach(S=>S.hasAttribute("data-src")?a(S):p(S)),await l.run(g,H.getAbort())};await h(A=>A.hasAttribute("fetchpriority")),await h(A=>!A.hasAttribute("fetchpriority"))},E=s=>{l.download(s,`${window.location.hostname}_image_${Date.now()}`)};return{init:()=>(l=V("image").withForceCache(),i=document.querySelectorAll("img"),i.forEach(H.add),{load:u,download:E,hasDataSrc:x})}})();var he=(()=>{let i='<i class="fa-solid fa-circle-pause spin-button"></i>',l='<i class="fa-solid fa-circle-play"></i>',g=async(b=!0)=>{let a=document.body.getAttribute("data-audio");if(!a){H.complete("audio",!0);return}let p=null;try{p=new Audio(await V("audio").withForceCache().get(a,H.getAbort())),p.loop=!0,p.muted=!1,p.autoplay=!1,p.controls=!1,H.complete("audio")}catch{H.invalid("audio");return}let x=!1,u=document.getElementById("button-music"),E=async()=>{if(!(!navigator.onLine||!u)){u.disabled=!0;try{await p.play(),x=!0,u.disabled=!1,u.innerHTML=i}catch(s){x=!1,f.notify(s).error()}}},v=()=>{x=!1,p.pause(),u.innerHTML=l};document.addEventListener("undangan.open",()=>{u.classList.remove("d-none"),b&&E()}),u.addEventListener("offline",v),u.addEventListener("click",()=>x?v():E())};return{init:()=>(H.add(),{load:g})}})();var ye={tab:g=>window.bootstrap.Tab.getOrCreateInstance(document.getElementById(g)),modal:g=>window.bootstrap.Modal.getOrCreateInstance(document.getElementById(g))};var ke=i=>{let l="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css",g="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js",c=()=>i.get(l).then(a=>new Promise((p,x)=>{let u=document.createElement("link");u.onload=p,u.onerror=x,u.rel="stylesheet",u.href=a,document.head.appendChild(u)})),b=()=>i.get(g).then(a=>new Promise((p,x)=>{let u=document.createElement("script");u.onload=p,u.onerror=x,u.src=a,document.head.appendChild(u)}));return Promise.all([c(),b()]).then(()=>{if(typeof window.AOS>"u")throw new Error("AOS library failed to load");window.AOS.init()})},Ae=i=>i.get("https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.js").then(g=>new Promise((c,b)=>{let a=document.createElement("script");a.onerror=b,a.onload=()=>{typeof window.confetti>"u"?b(new Error("Confetti library failed to load")):c()},a.src=g,document.head.appendChild(a)})),Ie=i=>{let l=[{css:"https://fonts.googleapis.com/css2?family=Sacramento&display=swap",family:"Sacramento"},{css:"https://fonts.googleapis.com/css2?family=Noto+Naskh+Arabic&display=swap",family:"Noto Naskh Arabic"}],g=({css:c,family:b})=>i.get(c).then(a=>new Promise((p,x)=>{let u=document.createElement("link");u.onload=p,u.onerror=x,u.rel="stylesheet",u.href=a,document.head.appendChild(u)})).then(()=>document.fonts.load(`1em "${b}"`));return Promise.all(l.map(g))},be=(i={})=>{let l=[],g=V("libs").withForceCache();return(i?.aos??!0)&&l.push(ke(g)),(i?.confetti??!0)&&l.push(Ae(g)),(i?.additionalFont??!0)&&l.push(Ie(g)),Promise.all(l)};var O=i=>{let l=(p=null)=>{let x=JSON.parse(localStorage.getItem(i));return p?x[String(p)]:x},g=(p,x)=>{let u=l();u[String(p)]=x,localStorage.setItem(i,JSON.stringify(u))},c=p=>Object.keys(l()).includes(String(p)),b=p=>{if(!c(p))return;let x=l();delete x[String(p)],localStorage.setItem(i,JSON.stringify(x))},a=()=>localStorage.setItem(i,"{}");return localStorage.getItem(i)||a(),{set:g,get:l,has:c,clear:a,unset:b}};var te=(()=>{let i={"#000000":"#ffffff","#ffffff":"#000000","#212529":"#f8f9fa","#f8f9fa":"#212529"},l=["#ffffff","#f8f9fa"],g=["#000000","#212529"],c=!1,b=null,a=null,p=()=>b.set("active","light"),x=()=>b.set("active","dark"),u=$=>{let C=a.getAttribute("content");a.setAttribute("content",$.some(P=>P===C)?i[C]:C)},E=()=>{p(),document.documentElement.setAttribute("data-bs-theme","light"),u(g)},v=()=>{x(),document.documentElement.setAttribute("data-bs-theme","dark"),u(l)},s=($=null,C=null)=>{let P=b.get("active")==="dark";return $&&C?P?$:C:P};return{init:()=>{switch(b=O("theme"),a=document.querySelector('meta[name="theme-color"]'),b.has("active")||(window.matchMedia("(prefers-color-scheme: dark)").matches?x():p()),document.documentElement.getAttribute("data-bs-theme")){case"dark":x();break;case"light":p();break;default:c=!0}s()?v():E()},spyTop:()=>{let $=P=>P.filter(M=>M.isIntersecting).forEach(M=>{let e=M.target.classList.contains("bg-white-black")?s(g[0],l[0]):s(g[1],l[1]);a.setAttribute("content",e)}),C=new IntersectionObserver($,{rootMargin:"0% 0% -95% 0%"});document.querySelectorAll("section").forEach(P=>C.observe(P))},change:()=>s()?E():v(),isDarkMode:s,isAutoMode:()=>c}})();var K=(()=>{let i={id:"ID",en:"US",fr:"FR",de:"DE",es:"ES",zh:"CN",ja:"JP",ko:"KR",ar:"SA",ru:"RU",it:"IT",nl:"NL",pt:"PT",tr:"TR",th:"TH",vi:"VN",ms:"MY",hi:"IN"},l=null,g=null,c=null,b=null;return{on(a,p){return b.set(a,p),this},get(){let a=b.get(c);return b.clear(),a},getCountry(){return l},getLocale(){return g},getLanguage(){return c},setDefault(a){let p=!0;i[a]||(p=!1,console.warn("Language not found, please add manually in countryMapping")),l=p?i[a]:"US",c=p?a:"en",g=`${c}_${l}`},init(){b=new Map,this.setDefault(navigator.language.split("-").shift())}}})();var G=(()=>{let i=({uuid:v,own:s,name:h,presence:A,comment:S,created_at:T,is_admin:$,is_parent:C,gif_url:P,ip:M,user_agent:e,comments:y,like_count:k})=>({uuid:v,own:s,name:h,presence:A,comment:S,created_at:T,is_admin:$??!1,is_parent:C,gif_url:P,ip:M,user_agent:e,comments:y?.map(i)??[],like_count:k??0}),l=v=>v.map(i);return{uuidResponse:({uuid:v})=>({uuid:v}),tokenResponse:({token:v})=>({token:v}),statusResponse:({status:v})=>({status:v}),getCommentResponse:i,getCommentsResponse:l,getCommentsResponseV2:v=>({count:v.count,lists:l(v.lists)}),commentShowMore:(v,s=!1)=>({uuid:v,show:s}),postCommentRequest:(v,s,h,A)=>({id:v,presence:s,pax:h,comment:A}),postSessionRequest:(v,s)=>({email:v,password:s}),updateCommentRequest:(v,s,h)=>({presence:v,comment:s,gif_id:h})}})();var z=(()=>{let i=null,l=()=>i.get("token"),g=v=>i.set("token",v),c=v=>N(ae,"/api/session").body(v).send(G.tokenResponse).then(s=>(s.code===200&&g(s.data.token),s.code===200)),b=()=>i.unset("token"),a=()=>String(l()??".").split(".").length===3,p=v=>N("GET","/api/v2/config").withCache(1e3*60*30).withForceCache().token(v).send().then(s=>{if(s.code!==200)throw new Error("failed to get config.");let h=O("config");for(let[A,S]of Object.entries(s.data))h.set(A,S);return g(v),s}),x=()=>{if(!a())return null;try{return JSON.parse(f.base64Decode(l().split(".")[1]))}catch{return null}};return{init:()=>{i=O("session")},guest:p,isValid:()=>a()?(x()?.exp??0)>Date.now()/1e3:!1,login:c,logout:b,decode:x,isAdmin:a,setToken:g,getToken:l}})();var we=(()=>{let i=null,l=!0,g=["input[data-offline-disabled]","button[data-offline-disabled]","select[data-offline-disabled]","textarea[data-offline-disabled]"],c=()=>l,b=()=>{let s=i.firstElementChild.firstElementChild;s.classList.remove("bg-success"),s.classList.add("bg-danger"),s.firstElementChild.innerHTML='<i class="fa-solid fa-ban me-2"></i>Koneksi tidak tersedia'},a=()=>{let s=i.firstElementChild.firstElementChild;s.classList.remove("bg-danger"),s.classList.add("bg-success"),s.firstElementChild.innerHTML='<i class="fa-solid fa-cloud me-2"></i>Koneksi tersedia kembali'},p=async()=>{l&&(await f.changeOpacity(i,!1),b())},x=()=>{document.querySelectorAll(g.join(", ")).forEach(s=>{s.dispatchEvent(new Event(c()?"online":"offline")),s.setAttribute("data-offline-disabled",c()?"false":"true"),s.tagName==="BUTTON"?c()?s.classList.remove("disabled"):s.classList.add("disabled"):c()?s.removeAttribute("disabled"):s.setAttribute("disabled","true")})},u=()=>{l=!1,b(),f.changeOpacity(i,!0),x()},E=()=>{l=!0,a(),f.timeOut(p,3e3),x()};return{init:()=>{window.addEventListener("online",E),window.addEventListener("offline",u),i=document.createElement("div"),i.classList.add("fixed-top","pe-none"),i.style.cssText="opacity: 0; z-index: 1057;",i.innerHTML=`
        <div class="d-flex justify-content-center mx-auto">
            <div class="d-flex justify-content-center align-items-center rounded-pill my-2 bg-danger shadow">
                <small class="text-center py-1 px-2 mx-1 mt-1 mb-0 text-white" style="font-size: 0.8rem;"></small>
            </div>
        </div>`,document.body.insertBefore(i,document.body.lastChild)},isOnline:c}})();var D=(()=>{let i="default",l={128:2,256:3,512:4,768:5},g=null,c=null,b=null,a=null,p=(n,o,m=null)=>{let L=c.get(n);return o.map(B=>{let{id:I,media_formats:{tinygif:{url:U}},content_description:_}=B;L.pointer===-1||L.pointer===L.col-1?L.pointer=0:L.pointer++;let W=L.lists.childNodes[L.pointer]??null;return W?{url:U,res:J=>{W.insertAdjacentHTML("beforeend",`
                <figure class="hover-wrapper m-0 position-relative">
                    <button onclick="undangan.comment.gif.click(this, '${L.uuid}', '${I}', '${f.base64Encode(U)}')" class="btn hover-area position-absolute justify-content-center align-items-center top-0 end-0 bg-overlay-auto p-1 m-1 rounded-circle border shadow-sm z-1">
                        <i class="fa-solid fa-circle-check"></i>
                    </button>
                    <img src="${J}" class="img-fluid" alt="${f.escapeHtml(_)}" style="width: 100%;">
                </figure>`),m?.step()}}:null})},x=n=>g.get(n),u=n=>{let o=c.get(n),m=o.lists,L=document.getElementById(`gif-loading-${o.uuid}`),B=document.getElementById(`progress-bar-${o.uuid}`),I=document.getElementById(`progress-info-${o.uuid}`),U=0,_=0;m.setAttribute("data-continue","false"),m.classList.replace("overflow-y-scroll","overflow-y-hidden");let W=150,j=!1,J=setTimeout(()=>{j||(I.innerText=`${_}/${U}`,m.classList.contains("d-none")||L.classList.replace("d-none","d-flex"))},W);return{release:()=>{j=!0,clearTimeout(J),m.classList.contains("d-none")||L.classList.replace("d-flex","d-none"),B.style.width="0%",I.innerText=`${_}/${U}`,m.setAttribute("data-continue","true"),m.classList.replace("overflow-y-hidden","overflow-y-scroll")},until:Te=>{U=Te,I.innerText=`${_}/${U}`},step:()=>{_+=1,I.innerText=`${_}/${U}`,B.style.width=Math.min(_/U*100,100).toString()+"%"}}},E=(n,o,m)=>{m={media_filter:"tinygif",client_key:"undangan_app",key:a.get("tenor_key"),country:K.getCountry(),locale:K.getLocale(),...m??{}};let L=Object.keys(m).filter(_=>m[_]!==null&&m[_]!==void 0).map(_=>`${_}=${encodeURIComponent(m[_])}`).join("&"),B=u(n),I=c.get(n),U=new Promise(_=>{I.reqs.push(_)});I.last=N("GET",`https://tenor.googleapis.com/v2${o}?${L}`).withCache().withRetry().withCancel(U).default(se).then(_=>_.json()).then(_=>{if(_.error)throw new Error(_.error.message);return _.results.length===0?_:(I.next=_?.next,B.until(_.results.length),I.gifs.push(..._.results),g.run(p(n,_.results,B),U))}).catch(_=>{_.name===oe?console.warn("Fetch abort:",_):f.notify(_).error()}).finally(()=>B.release())},v=n=>(n=f.escapeHtml(n),`
        <label for="gif-search-${n}" class="form-label my-1"><i class="fa-solid fa-photo-film me-2"></i>Gif</label>

        <div class="d-flex mb-3" id="gif-search-nav-${n}">
            <button class="btn btn-secondary btn-sm rounded-4 shadow-sm me-1 my-1" onclick="undangan.comment.gif.back(this, '${n}')" data-offline-disabled="false"><i class="fa-solid fa-arrow-left"></i></button>
            <input dir="auto" type="text" name="gif-search" id="gif-search-${n}" autocomplete="on" class="form-control shadow-sm rounded-4" placeholder="Search for a GIF on Tenor" data-offline-disabled="false">
        </div>

        <div class="position-relative">
            <div class="position-absolute d-flex flex-column justify-content-center align-items-center top-50 start-50 translate-middle w-100 h-100 bg-overlay-auto rounded-4 z-3" id="gif-loading-${n}">
                <div class="progress w-25" role="progressbar" style="height: 0.5rem;" aria-label="progress bar">
                    <div class="progress-bar" id="progress-bar-${n}" style="width: 0%"></div>
                </div>
                <small class="mt-1 text-theme-auto bg-theme-auto py-0 px-2 rounded-4" id="progress-info-${n}" style="font-size: 0.7rem;"></small>
            </div>
            <div id="gif-lists-${n}" class="d-flex rounded-4 p-0 overflow-y-scroll border" data-continue="true" style="height: 15rem;"></div>
        </div>

        <figure class="d-flex m-0 position-relative" id="gif-result-${n}">
            <button onclick="undangan.comment.gif.cancel('${n}')" id="gif-cancel-${n}" class="btn d-none position-absolute justify-content-center align-items-center top-0 end-0 bg-overlay-auto p-2 m-0 rounded-circle border shadow-sm z-1">
                <i class="fa-solid fa-circle-xmark"></i>
            </button>
        </figure>`),s=async n=>{let o=c.get(n);o.reqs.forEach(m=>m()),o.reqs.length=0,o.last&&(await o.last,o.last=null)},h=async n=>{await s(n);let o=c.get(n),m=o.col??0,L=0;for(let[B,I]of Object.entries(l))L=I,o.lists.clientWidth>=parseInt(B)&&(o.col=L);if(o.col===null&&(o.col=L),m!==o.col&&(o.pointer=-1,o.limit=o.col*5,o.lists.innerHTML='<div class="d-flex flex-column"></div>'.repeat(o.col),o.gifs.length!==0)){try{await g.run(p(n,o.gifs))}catch{o.gifs.length=0}m!==o.col&&o.lists.scroll({top:o.lists.scrollHeight,behavior:"instant"}),o.gifs.length===0&&await h(n)}},A=async n=>{let o=c.get(n);if(o.lists.getAttribute("data-continue")!=="true"||!o.next||o.next.length===0)return;let m=o.query&&o.query.trim().length>0,L={pos:o.next,limit:o.limit};m&&(L.q=o.query),o.lists.scrollTop>(o.lists.scrollHeight-o.lists.clientHeight)*.8&&(await h(n),E(n,m?"/search":"/featured",L))},S=async(n,o=null)=>{let m=c.get(n);m.query=o!==null?o:m.query,(!m.query||m.query.trim().length===0)&&(m.query=null),m.col=null,m.next=null,m.pointer=-1,m.gifs.length=0,await h(n),E(n,m.query===null?"/featured":"/search",{q:m.query,limit:m.limit})},T=async(n,o,m,L)=>{let B=f.disableButton(n,f.loader.replace("me-1","me-0"),!0),I=document.getElementById(`gif-result-${o}`);I.setAttribute("data-id",m),I.querySelector(`#gif-cancel-${o}`).classList.replace("d-none","d-flex"),I.insertAdjacentHTML("beforeend",`<img src="${await x(f.base64Decode(L))}" class="img-fluid mx-auto gif-image rounded-4" alt="selected-gif">`),B.restore(),c.get(o).lists.classList.replace("d-flex","d-none"),document.getElementById(`gif-search-nav-${o}`).classList.replace("d-flex","d-none")},$=n=>{let o=document.getElementById(`gif-result-${n}`);o.removeAttribute("data-id"),o.querySelector(`#gif-cancel-${n}`).classList.replace("d-flex","d-none"),o.querySelector("img").remove(),c.get(n).lists.classList.replace("d-none","d-flex"),document.getElementById(`gif-search-nav-${n}`).classList.replace("d-none","d-flex")},C=async(n=null)=>{n?c.has(n)&&(await s(n),b.delete(n),c.delete(n)):(await Promise.allSettled(Array.from(c.keys()).map(o=>s(o))),b.clear(),c.clear())},P=async(n,o)=>{let m=f.disableButton(n,f.loader.replace("me-1","me-0"),!0);await s(o),m.restore(),document.getElementById(`gif-form-${o}`).classList.toggle("d-none",!0),document.getElementById(`comment-form-${o}`)?.classList.toggle("d-none",!1)},M=n=>{if(!c.has(n)){f.safeInnerHTML(document.getElementById(`gif-form-${n}`),v(n));let o=document.getElementById(`gif-lists-${n}`);c.set(n,{uuid:n,lists:o,last:null,limit:null,query:null,next:null,col:null,pointer:-1,gifs:[],reqs:[]});let m=f.debounce(A,150);o.addEventListener("scroll",()=>m(n));let L=f.debounce(S,850);document.getElementById(`gif-search-${n}`).addEventListener("input",B=>L(n,B.target.value))}return document.getElementById(`gif-form-${n}`).classList.toggle("d-none",!1),document.getElementById(`comment-form-${n}`)?.classList.toggle("d-none",!0),b.has(n)&&b.get(n)(),S(n)},e=n=>{let o=document.getElementById(`gif-form-${n}`);return o&&!o.classList.contains("d-none")},y=n=>document.getElementById(`gif-result-${n}`)?.getAttribute("data-id"),k=n=>document.querySelector(`[for="gif-search-${n}"]`)?.remove(),R=n=>document.querySelector(`[onclick="undangan.comment.gif.back(this, '${n}')"]`)?.remove(),q=(n,o)=>b.set(n,o),d=(n=null)=>{let o=document.getElementById(`gif-cancel-${n||i}`);return{show:()=>o.classList.replace("d-none","d-flex"),hide:()=>o.classList.replace("d-flex","d-none"),click:()=>o.dispatchEvent(new Event("click"))}},w=()=>!!a.get("tenor_key"),t=()=>{document.querySelector('[onclick="undangan.comment.gif.open(undangan.comment.gif.default)"]')?.classList.toggle("d-none",!a.get("tenor_key"))};return{default:i,init:()=>{g=V("gif"),c=new Map,b=new Map,a=O("config"),document.addEventListener("undangan.session",t)},get:x,back:P,open:M,cancel:$,click:T,remove:C,isOpen:e,onOpen:q,isActive:w,getResultId:y,buttonCancel:d,removeGifSearch:k,removeButtonBack:R}})();var Y=(()=>{let i=null,l=null,g=null,c=null,b=300,a=()=>`
        <div class="bg-theme-auto shadow p-3 mx-0 mt-0 mb-3 rounded-4">
            <div class="d-flex justify-content-between align-items-center placeholder-wave">
                <span class="placeholder bg-secondary col-5 rounded-3 my-1"></span>
                <span class="placeholder bg-secondary col-3 rounded-3 my-1"></span>
            </div>
            <hr class="my-1">
            <p class="placeholder-wave m-0">
                <span class="placeholder bg-secondary col-6 rounded-3"></span>
                <span class="placeholder bg-secondary col-5 rounded-3"></span>
                <span class="placeholder bg-secondary col-12 rounded-3 my-1"></span>
            </p>
        </div>`,p=e=>`
        <button style="font-size: 0.8rem;" onclick="undangan.comment.like.love(this)" data-uuid="${e.uuid}" class="btn btn-sm btn-outline-auto ms-auto rounded-3 p-0 shadow-sm d-flex justify-content-start align-items-center" data-offline-disabled="false">
            <span class="my-0 mx-1" data-count-like="${e.like_count}">${e.like_count}</span>
            <i class="me-1 ${l.has(e.uuid)?"fa-solid fa-heart text-danger":"fa-regular fa-heart"}"></i>
        </button>`,x=e=>{let y=`<div class="d-flex justify-content-start align-items-center" data-button-action="${e.uuid}">`;return g.get("can_reply")!==!1&&(y+=`<button style="font-size: 0.8rem;" onclick="undangan.comment.reply('${e.uuid}')" class="btn btn-sm btn-outline-auto rounded-4 py-0 me-1 shadow-sm" data-offline-disabled="false">Reply</button>`),z.isAdmin()&&e.is_admin&&(!e.gif_url||D.isActive())?y+=`<button style="font-size: 0.8rem;" onclick="undangan.comment.edit(this, ${e.is_parent?"true":"false"})" data-uuid="${e.uuid}" class="btn btn-sm btn-outline-auto rounded-4 py-0 me-1 shadow-sm" data-own="${e.own}" data-offline-disabled="false">Edit</button>`:i.has(e.uuid)&&g.get("can_edit")!==!1&&(!e.gif_url||D.isActive())&&(y+=`<button style="font-size: 0.8rem;" onclick="undangan.comment.edit(this, ${e.is_parent?"true":"false"})" data-uuid="${e.uuid}" class="btn btn-sm btn-outline-auto rounded-4 py-0 me-1 shadow-sm" data-offline-disabled="false">Edit</button>`),z.isAdmin()?y+=`<button style="font-size: 0.8rem;" onclick="undangan.comment.remove(this)" data-uuid="${e.uuid}" class="btn btn-sm btn-outline-auto rounded-4 py-0 me-1 shadow-sm" data-own="${e.own}" data-offline-disabled="false">Delete</button>`:i.has(e.uuid)&&g.get("can_delete")!==!1&&(y+=`<button style="font-size: 0.8rem;" onclick="undangan.comment.remove(this)" data-uuid="${e.uuid}" class="btn btn-sm btn-outline-auto rounded-4 py-0 me-1 shadow-sm" data-offline-disabled="false">Delete</button>`),y+="</div>",y},u=(e,y)=>{e=f.escapeHtml(e);let k=c.get("show").includes(e);return`<a class="text-theme-auto" style="font-size: 0.8rem;" onclick="undangan.comment.showOrHide(this)" data-uuid="${e}" data-uuids="${f.escapeHtml(y.join(","))}" data-show="${k?"true":"false"}" role="button" class="me-auto ms-1 py-0">${k?"Hide replies":`Show replies (${y.length})`}</a>`},E=e=>`
        <div class="d-flex justify-content-between align-items-center" id="button-${e.uuid}">
            ${x(e)}
            ${e.comments.length>0?u(e.uuid,e.comments.map(y=>y.uuid)):""}
            ${p(e)}
        </div>`,v=e=>!e.ip||!e.user_agent||e.is_admin?"":`
        <div class="mb-1 mt-3">
            <p class="text-theme-auto mb-1 mx-0 mt-0 p-0" style="font-size: 0.7rem;" id="ip-${e.uuid}"><i class="fa-solid fa-location-dot me-1"></i>${f.escapeHtml(e.ip)} <span class="mb-1 placeholder col-2 rounded-3"></span></p>
            <p class="text-theme-auto m-0 p-0" style="font-size: 0.7rem;"><i class="fa-solid fa-mobile-screen-button me-1"></i>${f.parseUserAgent(f.escapeHtml(e.user_agent))}</p>
        </div>`,s=e=>e.is_parent?'class="bg-theme-auto shadow p-3 mx-0 mt-0 mb-3 rounded-4"':`class="${c.get("hidden").find(y=>y.uuid===e.uuid).show?"":"d-none"} overflow-x-auto mw-100 border-start bg-theme-auto py-2 ps-2 pe-0 my-2 ms-2 me-0"`,h=e=>e.is_admin?`<strong class="me-1">${f.escapeHtml(e.name)}</strong><i class="fa-solid fa-certificate text-primary"></i>`:e.is_parent?`<strong class="me-1">${f.escapeHtml(e.name)}</strong><i id="badge-${e.uuid}" data-is-presence="${e.presence?"true":"false"}" class="fa-solid ${e.presence?"fa-circle-check text-success":"fa-circle-xmark text-danger"}"></i>`:`<strong>${f.escapeHtml(e.name)}</strong>`,A=async e=>{let y=`
        <div class="d-flex justify-content-between align-items-center">
            <p class="text-theme-auto text-truncate m-0 p-0" style="font-size: 0.95rem;">${h(e)}</p>
            <small class="text-theme-auto m-0 p-0" style="font-size: 0.75rem;">${e.created_at}</small>
        </div>
        <hr class="my-1">`;if(e.gif_url)return y+`
            <div class="d-flex justify-content-center align-items-center my-2">
                <img src="${await D.get(e.gif_url)}" id="img-gif-${e.uuid}" class="img-fluid mx-auto gif-image rounded-4" alt="selected-gif">
            </div>`;let k=e.comment.length>b,R=f.convertMarkdownToHTML(f.escapeHtml(k?e.comment.slice(0,b)+"...":e.comment));return y+`
        <p dir="auto" class="text-theme-auto my-1 mx-0 p-0" style="white-space: pre-wrap !important; font-size: 0.95rem;" data-comment="${f.base64Encode(e.comment)}" id="content-${e.uuid}">${R}</p>
        ${k?`<p class="d-block mb-2 mt-0 mx-0 p-0"><a class="text-theme-auto" role="button" style="font-size: 0.85rem;" data-show="false" onclick="undangan.comment.showMore(this, '${e.uuid}')">Selengkapnya</a></p>`:""}`},S=async e=>{let y=await A(e),k=await Promise.all(e.comments.map(R=>S(R)));return`
        <div ${s(e)} id="${e.uuid}" style="overflow-wrap: break-word !important;">
            <div id="body-content-${e.uuid}" data-tapTime="0" data-liked="false" tabindex="0">${y}</div>
            ${v(e)}
            ${E(e)}
            <div id="reply-content-${e.uuid}">${k.join("")}</div>
        </div>`};return{init:()=>{i=O("owns"),l=O("likes"),g=O("config"),c=O("comment")},renderEdit:(e,y,k,R)=>{e=f.escapeHtml(e);let q=document.createElement("div");q.classList.add("my-2"),q.id=`inner-${e}`;let d=`
        <p class="my-1 mx-0 p-0" style="font-size: 0.95rem;"><i class="fa-solid fa-pen me-2"></i>Edit</p>
        ${k?`
        <select class="form-select shadow-sm mb-2 rounded-4" id="form-inner-presence-${e}" data-offline-disabled="false">
            <option value="1" ${y?"selected":""}>&#9989; Datang</option>
            <option value="2" ${y?"":"selected"}>&#10060; Berhalangan</option>
        </select>`:""}
        ${R?`${D.isActive()?`<div class="d-none mb-2" id="gif-form-${e}"></div>`:""}`:`<textarea dir="auto" class="form-control shadow-sm rounded-4 mb-2" id="form-inner-${e}" minlength="1" maxlength="1000" placeholder="Type update comment" rows="3" data-offline-disabled="false"></textarea>    
        `}
        <div class="d-flex justify-content-end align-items-center mb-0">
            <button style="font-size: 0.8rem;" onclick="undangan.comment.cancel(this, '${e}')" class="btn btn-sm btn-outline-auto rounded-4 py-0 me-1" data-offline-disabled="false">Cancel</button>
            <button style="font-size: 0.8rem;" onclick="undangan.comment.update(this)" data-uuid="${e}" class="btn btn-sm btn-outline-auto rounded-4 py-0" data-offline-disabled="false">Update</button>
        </div>`;return f.safeInnerHTML(q,d)},renderReply:e=>{e=f.escapeHtml(e);let y=document.createElement("div");y.classList.add("my-2"),y.id=`inner-${e}`;let k=`
        <p class="my-1 mx-0 p-0" style="font-size: 0.95rem;"><i class="fa-solid fa-reply me-2"></i>Reply</p>
        <div class="d-block mb-2" id="comment-form-${e}">
            <div class="position-relative">
                ${D.isActive()?`<button class="btn btn-secondary btn-sm rounded-4 shadow-sm me-1 my-1 position-absolute bottom-0 end-0" onclick="undangan.comment.gif.open('${e}')" aria-label="button gif" data-offline-disabled="false"><i class="fa-solid fa-photo-film"></i></button>`:""}
                <textarea dir="auto" class="form-control shadow-sm rounded-4 mb-2" id="form-inner-${e}" minlength="1" maxlength="1000" placeholder="Type reply comment" rows="3" data-offline-disabled="false"></textarea>
            </div>
        </div>
        <div class="d-none mb-2" id="gif-form-${e}"></div>
        <div class="d-flex justify-content-end align-items-center mb-0">
            <button style="font-size: 0.8rem;" onclick="undangan.comment.cancel(this, '${e}')" class="btn btn-sm btn-outline-auto rounded-4 py-0 me-1" data-offline-disabled="false">Cancel</button>
            <button style="font-size: 0.8rem;" onclick="undangan.comment.send(this)" data-uuid="${e}" class="btn btn-sm btn-outline-auto rounded-4 py-0" data-offline-disabled="false">Send</button>
        </div>`;return f.safeInnerHTML(y,k)},renderLoading:a,renderReadMore:u,renderContentMany:e=>Promise.all(e.map(y=>S(y))).then(y=>y.join("")),renderContentSingle:e=>S(e),maxCommentLength:b}})();var Se=()=>window.confetti.shapeFromPath({path:"M167 72c19,-38 37,-56 75,-56 42,0 76,33 76,75 0,76 -76,151 -151,227 -76,-76 -151,-151 -151,-227 0,-42 33,-75 75,-75 38,0 57,18 76,56z",matrix:[.03333333333333333,0,0,.03333333333333333,-5.566666666666666,-5.533333333333333]});var ve=(i,l=50)=>{if(!window.confetti)return;let g=Date.now()+l,c=i.getBoundingClientRect(),b=Math.max(.3,Math.min(1,c.top/window.innerHeight+.2)),a=Se(),p=["#FF69B4","#FF1493"],x=()=>{p.forEach(u=>{window.confetti({particleCount:2,angle:60,spread:55,shapes:[a],origin:{x:c.left/window.innerWidth,y:b},zIndex:1057,colors:[u]}),window.confetti({particleCount:2,angle:120,spread:55,shapes:[a],origin:{x:c.right/window.innerWidth,y:b},zIndex:1057,colors:[u]})}),Date.now()<g&&requestAnimationFrame(x)};requestAnimationFrame(x)};var Z=(()=>{let i=null,l=null,g=async u=>{let E=u.firstElementChild,v=u.lastElementChild,s=u.getAttribute("data-uuid"),h=parseInt(E.getAttribute("data-count-like"));u.disabled=!0,navigator.vibrate&&navigator.vibrate(100),i.has(s)?await N(me,"/api/comment/"+i.get(s)).token(z.getToken()).send(G.statusResponse).then(A=>{A.data.status&&(i.unset(s),v.classList.remove("fa-solid","text-danger"),v.classList.add("fa-regular"),E.setAttribute("data-count-like",String(h-1)))}).finally(()=>{E.innerText=E.getAttribute("data-count-like"),u.disabled=!1}):await N(ae,"/api/comment/"+s).token(z.getToken()).send(G.uuidResponse).then(A=>{A.code===201&&(i.set(s,A.data.uuid),v.classList.remove("fa-regular"),v.classList.add("fa-solid","text-danger"),E.setAttribute("data-count-like",String(h+1)))}).finally(()=>{E.innerText=E.getAttribute("data-count-like"),u.disabled=!1})},c=u=>document.querySelector(`button[onclick="undangan.comment.like.love(this)"][data-uuid="${u}"]`),b=async u=>{if(!navigator.onLine)return;let E=Date.now(),v=E-parseInt(u.getAttribute("data-tapTime")),s=u.id.replace("body-content-",""),h=v<300&&v>0,A=!i.has(s)&&u.getAttribute("data-liked")!=="true";h&&A&&(ve(u),u.setAttribute("data-liked","true"),await g(c(s)),u.setAttribute("data-liked","false")),u.setAttribute("data-tapTime",String(E))};return{init:()=>{l=new Map,i=O("likes")},love:g,getButtonLike:c,addListener:u=>{let E=new AbortController,v=document.getElementById(`body-content-${u}`);v.addEventListener("touchend",()=>b(v),{signal:E.signal}),l.set(u,E)},removeListener:u=>{let E=l.get(u);E&&(E.abort(),l.delete(u))}}})();var Q=(()=>{let i=10,l=0,g=0,c=null,b=null,a=null,p=null,x=null,u=e=>{i=Number(e)},E=()=>i,v=()=>l,s=()=>g,h=()=>b.classList.contains("disabled")?null:b.classList.add("disabled"),A=()=>b.classList.contains("disabled")?b.classList.remove("disabled"):null,S=()=>a.classList.contains("disabled")?null:a.classList.add("disabled"),T=()=>a.classList.contains("disabled")?a.classList.remove("disabled"):null,$=e=>{S(),h();let y=f.disableButton(e,f.loader.replace("ms-0 me-1","mx-1"),!0),k=()=>{x.addEventListener("undangan.comment.done",()=>y.restore(),{once:!0}),x.addEventListener("undangan.comment.result",()=>x.scrollIntoView(),{once:!0}),x.dispatchEvent(new Event("undangan.comment.show"))};return{next:()=>{l+=i,e.innerHTML="Next"+e.innerHTML,k()},prev:()=>{l-=i,e.innerHTML=e.innerHTML+"Prev",k()}}};return{init:()=>{p=document.getElementById("pagination"),p.innerHTML=`
        <ul class="pagination mb-2 shadow-sm rounded-4">
            <li class="page-item disabled" id="previous">
                <button class="page-link rounded-start-4" onclick="undangan.comment.pagination.previous(this)" data-offline-disabled="false">
                    <i class="fa-solid fa-circle-left me-1"></i>Prev
                </button>
            </li>
            <li class="page-item disabled">
                <span class="page-link text-theme-auto" id="page"></span>
            </li>
            <li class="page-item" id="next">
                <button class="page-link rounded-end-4" onclick="undangan.comment.pagination.next(this)" data-offline-disabled="false">
                    Next<i class="fa-solid fa-circle-right ms-1"></i>
                </button>
            </li>
        </ul>`,x=document.getElementById("comments"),c=document.getElementById("page"),b=document.getElementById("previous"),a=document.getElementById("next")},setPer:u,getPer:E,getNext:v,reset:()=>l===0?!1:(l=0,S(),h(),!0),setTotal:e=>{if(g=Number(e),g<=i&&l===0){p.classList.add("d-none");return}let y=l/i+1,k=Math.ceil(g/i);if(c.innerText=`${y} / ${k}`,l>0&&A(),y>=k){S();return}T(),p.classList.contains("d-none")&&p.classList.remove("d-none")},geTotal:s,previous:e=>$(e).prev(),next:e=>$(e).next()}})();var ce="https://vafatgxsnanrtibqlfkn.supabase.co/rest/v1",X="sb_publishable_oWYxT-_RPe6U19hyqVnhLA_5Q9s2FJy",de=(()=>{let i=null,l=null,g=null,c=[],b=()=>`<div class="text-center p-4 mx-0 mt-0 mb-3 bg-theme-auto rounded-4 shadow"><p class="fw-bold p-0 m-0" style="font-size: 0.95rem;">${K.on("id","\u{1F4E2} Yuk, share undangan ini biar makin rame komentarnya! \u{1F389}").on("en","\u{1F4E2} Let's share this invitation to get more comments! \u{1F389}").get()}</p></div>`,a=(d,w)=>{document.querySelector(`[data-button-action="${d}"]`).childNodes.forEach(t=>{t.disabled=w})},p=d=>{a(d,!1),document.getElementById(`inner-${d}`).remove()},x=d=>{let w=d.getAttribute("data-uuids").split(","),t=d.getAttribute("data-show")==="true",r=d.getAttribute("data-uuid"),n=l.get("show");d.setAttribute("data-show",t?"false":"true"),d.innerText=t?`Show replies (${w.length})`:"Hide replies",l.set("show",t?n.filter(o=>o!==r):[...n,r]);for(let o of w)l.set("hidden",l.get("hidden").map(m=>(m.uuid===o&&(m.show=!t),m))),document.getElementById(o).classList.toggle("d-none",t)},u=(d,w)=>{let t=document.getElementById(`content-${w}`),r=f.base64Decode(t.getAttribute("data-comment")),n=d.getAttribute("data-show")==="false";f.safeInnerHTML(t,f.convertMarkdownToHTML(f.escapeHtml(n?r:r.slice(0,Y.maxCommentLength)+"..."))),d.innerText=n?"Sebagian":"Selengkapnya",d.setAttribute("data-show",n?"true":"false")},E=async d=>{if(d.comments&&await Promise.all(d.comments.map(t=>E(t))),!d.ip||!d.user_agent||d.is_admin)return;let w=t=>{let r=document.getElementById(`ip-${f.escapeHtml(d.uuid)}`);f.safeInnerHTML(r,`<i class="fa-solid fa-location-dot me-1"></i>${f.escapeHtml(d.ip)} <strong>${f.escapeHtml(t)}</strong>`)};await N("GET",`https://apip.cc/api-json/${d.ip}`).withCache().withRetry().default().then(t=>t.json()).then(t=>{let r="localhost";t.status==="success"&&(t.City.length!==0&&t.RegionName.length!==0?r=t.City+" - "+t.RegionName:t.Capital.length!==0&&t.CountryName.length!==0&&(r=t.Capital+" - "+t.CountryName)),w(r)}).catch(t=>w(t.message))},v=(d,w=[])=>{let t=l.get("show"),r=o=>o.forEach(m=>{if(w.find(L=>L.uuid===m.uuid)){r(m.comments);return}w.push(G.commentShowMore(m.uuid)),r(m.comments)}),n=o=>o.forEach(m=>{if(!t.includes(m.uuid)){n(m.comments);return}m.comments.forEach(L=>{let B=w.findIndex(I=>I.uuid===L.uuid);B!==-1&&(w[B].show=!0)}),n(m.comments)});return r(d),n(d),w},s=()=>(c.forEach(d=>{Z.removeListener(d)}),g.getAttribute("data-loading")==="false"&&(g.setAttribute("data-loading","true"),g.innerHTML=Y.renderLoading().repeat(Q.getPer())),N("GET",`/api/v2/comment?per=${Q.getPer()}&next=${Q.getNext()}&lang=${K.getLanguage()}`).token(z.getToken()).withCache(1e3*30).withForceCache().send(G.getCommentsResponseV2).then(async d=>{g.setAttribute("data-loading","false");for(let r of c)await D.remove(r);if(d.data.lists.length===0)return g.innerHTML=b(),d;let w=r=>r.flatMap(n=>[n.uuid,...w(n.comments)]);c.splice(0,c.length,...w(d.data.lists)),l.set("hidden",v(d.data.lists,l.get("hidden")));let t=await Y.renderContentMany(d.data.lists);return d.data.lists.length<Q.getPer()&&(t+=b()),f.safeInnerHTML(g,t),c.forEach(r=>{Z.addListener(r)}),d}).then(async d=>(g.dispatchEvent(new Event("undangan.comment.result")),d.data.lists&&z.isAdmin()&&await Promise.all(d.data.lists.map(w=>E(w))),Q.setTotal(d.data.count),g.dispatchEvent(new Event("undangan.comment.done")),d))),h=async d=>{if(!f.ask("Are you sure?"))return;let w=d.getAttribute("data-uuid");z.isAdmin()&&i.set(w,d.getAttribute("data-own")),a(w,!0);let t=f.disableButton(d),r=Z.getButtonLike(w);if(r.disabled=!0,!await N(ue,"/api/comment/"+i.get(w)).token(z.getToken()).send(G.statusResponse).then(o=>o.data.status)){t.restore(),r.disabled=!1,a(w,!1);return}document.querySelectorAll('a[onclick="undangan.comment.showOrHide(this)"]').forEach(o=>{let m=o.getAttribute("data-uuids").split(",");if(m.includes(w)){let L=m.filter(B=>B!==w).join(",");L.length===0?o.remove():o.setAttribute("data-uuids",L)}}),i.unset(w),document.getElementById(w).remove(),g.children.length===0&&(g.innerHTML=b())},A=async d=>{let w=d.getAttribute("data-uuid"),t=!1,r=document.getElementById(`form-inner-presence-${w}`);r&&(r.disabled=!0,t=r.value==="1");let n=document.getElementById(`badge-${w}`),o=!!n&&n.getAttribute("data-is-presence")==="true",m=D.isOpen(w),L=D.getResultId(w),B=D.buttonCancel(w);m&&L&&B.hide();let I=document.getElementById(`form-inner-${w}`);if(w&&!m&&f.base64Encode(I.value)===I.getAttribute("data-original")&&o===t){p(w);return}if(!m&&I.value?.trim().length===0){f.notify("Comments cannot be empty.").warning();return}I&&(I.disabled=!0);let U=document.querySelector(`[onclick="undangan.comment.cancel(this, '${w}')"]`);U&&(U.disabled=!0);let _=f.disableButton(d),W=await N("PUT",`/api/comment/${i.get(w)}?lang=${K.getLanguage()}`).token(z.getToken()).body(G.updateCommentRequest(r?t:null,m?null:I.value,L)).send(G.statusResponse).then(j=>j.data.status);if(I&&(I.disabled=!1),U&&(U.disabled=!1),r&&(r.disabled=!1),_.restore(),m&&L&&B.show(),!!W){if(m&&L&&(document.getElementById(`img-gif-${w}`).src=document.getElementById(`gif-result-${w}`)?.querySelector("img").src,B.click()),p(w),!m){let j=document.querySelector(`[onclick="undangan.comment.showMore(this, '${w}')"]`),J=document.getElementById(`content-${w}`);J.setAttribute("data-comment",f.base64Encode(I.value));let ne=f.convertMarkdownToHTML(f.escapeHtml(I.value));I.value.length>Y.maxCommentLength?(f.safeInnerHTML(J,j?.getAttribute("data-show")==="false"?ne.slice(0,Y.maxCommentLength)+"...":ne),j?.classList.replace("d-none","d-block")):(f.safeInnerHTML(J,ne),j?.classList.replace("d-block","d-none"))}r&&(document.getElementById("form-presence").value=t?"1":"2",O("information").set("presence",t)),!(!r||!n)&&(n.classList.toggle("fa-circle-xmark",!t),n.classList.toggle("text-danger",!t),n.classList.toggle("fa-circle-check",t),n.classList.toggle("text-success",t))}},S=async()=>{let d=`${ce}/guest_list?select=name,message&message_created_at=not.eq.0&order=message_created_at.desc`,t=await(await fetch(d,{method:"GET",headers:{apikey:X,Authorization:`Bearer ${X}`,"Content-Type":"application/json"}})).json();console.log("Wishes:",t),T(t)},T=d=>{let w=document.getElementById("wish-list");w.innerHTML="",d.forEach(t=>{let r=`
            <div class="wish-item">
                <h5 class="mb-1" style="font-size: 0.9rem; font-style: italic;">${t.name}</h5>
                <p class="mb-0" style="font-size: 1.05rem;">${t.message}</p>
            </div>
            `;w.insertAdjacentHTML("beforeend",r)})},$=()=>{let d=new URLSearchParams(window.location.search);return d.get("to")?decodeURIComponent(d.get("to")).trim():"Unknown Guest"},C=()=>{let d=new URLSearchParams(window.location.search);return d.get("t")?decodeURIComponent(d.get("t")).trim():null},P=async d=>{let w=document.getElementById("form-name"),t=w.value;if(t.length===0){f.notify("Name cannot be empty.").warning();return}let r=document.getElementById("form-presence");if(r&&r.value==="0"){f.notify("Please select your attendance status.").warning();return}let n=document.getElementById("form-total-pax");if(n&&n.value==="0"&&r.value!=="Berhalangan"){f.notify("Please select the number of pax.").warning();return}let o=document.getElementById("form-comment"),m=f.disableButton(d),L=`${ce}/guest_list?name=eq.${encodeURIComponent($())}&token=eq.${encodeURIComponent(C())}`,B=await fetch(L,{headers:{apikey:X,Authorization:`Bearer ${X}`}}),I=await W.json(),U;if(I.length>0){if(I[0].name!==t){e();return}let J=I[0].id;U=`${ce}/guest_list?id=eq.${J}`,console.log(U)}else{f.notify("Something went wrong. Please refresh the page").warning(),console.error("No data returned from get request");return}let _=r.value==="1",W=await fetch(U,{method:"PATCH",headers:{"Content-Type":"application/json",apikey:X,Authorization:`Bearer ${X}`,Prefer:"return=representation"},body:JSON.stringify({attendance:_,coming_pax:n.value,message:o.value,message_created_at:Math.floor(Date.now()/1e3)})}),j=await W.json();W.ok?(M(),d.innerText="Submitted",d.disabled=!0,await S()):(d.disabled=!1,d.innerText="Send",console.error("Submit failed:",j)),w&&(w.disabled=!1),r&&(r.disabled=!1)},M=()=>{let d=document.getElementById("popup");d.classList.add("show"),setTimeout(()=>{d.classList.remove("show")},2e3)},e=()=>{let d=document.getElementById("unauthorized-popup");d.classList.add("show"),setTimeout(()=>{d.classList.remove("show")},2e3)};return{gif:D,like:Z,pagination:Q,init:()=>{D.init(),Z.init(),Y.init(),Q.init(),g=document.getElementById("comments"),g.addEventListener("undangan.comment.show",s),i=O("owns"),l=O("comment"),l.has("hidden")||l.set("hidden",[]),l.has("show")||l.set("show",[])},send:P,edit:async(d,w)=>{let t=d.getAttribute("data-uuid");a(t,!0),z.isAdmin()&&i.set(t,d.getAttribute("data-own"));let r=document.getElementById(`badge-${t}`),n=!!r&&r.getAttribute("data-is-presence")==="true",o=document.getElementById(`img-gif-${t}`);o&&await D.remove(t);let m=w&&!z.isAdmin();if(document.getElementById(`button-${t}`).insertAdjacentElement("afterend",Y.renderEdit(t,n,m,!!o)),o){D.onOpen(t,()=>{D.removeGifSearch(t),D.removeButtonBack(t)}),await D.open(t);return}let L=document.getElementById(`form-inner-${t}`),B=f.base64Decode(document.getElementById(`content-${t}`)?.getAttribute("data-comment"));L.value=B,L.setAttribute("data-original",f.base64Encode(B))},reply:d=>{a(d,!0),D.remove(d).then(()=>{D.onOpen(d,()=>D.removeGifSearch(d)),document.getElementById(`button-${d}`).insertAdjacentElement("afterend",Y.renderReply(d))})},remove:h,update:A,cancel:async(d,w)=>{let t=document.getElementById(`form-inner-presence-${w}`),r=t?t.value==="1":!1,n=document.getElementById(`badge-${w}`),o=n&&i.has(w)&&t?n.getAttribute("data-is-presence")==="true":!1,m=f.disableButton(d);if(D.isOpen(w)&&(!D.getResultId(w)&&o===r||f.ask("Are you sure?"))){await D.remove(w),p(w);return}let L=document.getElementById(`form-inner-${w}`);if(L.value.length===0||f.base64Encode(L.value)===L.getAttribute("data-original")&&o===r||f.ask("Are you sure?")){p(w);return}m.restore()},show:s,showMore:u,showOrHide:x}})();var xe="https://vafatgxsnanrtibqlfkn.supabase.co/rest/v1",re="sb_publishable_oWYxT-_RPe6U19hyqVnhLA_5Q9s2FJy",Ee=(()=>{let i=null,l=null,g=()=>{let t=new Date(document.body.getAttribute("data-time").replace(" ","T")).getTime(),r=I=>I<10?`0${I}`:`${I}`,n=document.getElementById("day"),o=document.getElementById("hour"),m=document.getElementById("minute"),L=document.getElementById("second"),B=()=>{let I=Math.abs(t-Date.now());n.textContent=r(Math.floor(I/(1e3*60*60*24))),o.textContent=r(Math.floor(I%(1e3*60*60*24)/(1e3*60*60))),m.textContent=r(Math.floor(I%(1e3*60*60)/(1e3*60))),L.textContent=r(Math.floor(I%(1e3*60)/1e3)),f.timeOut(B,1e3-Date.now()%1e3)};f.timeOut(B)},c=()=>{let t=new URLSearchParams(window.location.search);return t.get("to")?decodeURIComponent(t.get("to")).trim():"Unknown Guest"},b=()=>{let t=new URLSearchParams(window.location.search);return t.get("t")?decodeURIComponent(t.get("t")).trim():null},a=t=>{console.log(t)},p=t=>{let r=t.querySelector(".fa-envelope-open"),n=t.querySelector(".fa-circle-notch");r&&r.classList.add("d-none"),n&&n.classList.remove("d-none")},x=t=>{let r=t.querySelector(".fa-envelope-open"),n=t.querySelector(".fa-circle-notch");r&&r.classList.remove("d-none"),n&&n.classList.add("d-none")},u=()=>{let t=window.location.search.split("to="),r=null;if(t.length>1&&t[1].length>=1&&(r=window.decodeURIComponent(t[1])),r){let o=document.getElementById("guest-name"),m=document.createElement("div");m.classList.add("m-2");let L=`<small class="mt-0 mb-1 mx-0 p-0">${f.escapeHtml(o?.getAttribute("data-message"))}</small><p class="m-0 p-0" style="font-size: 1.25rem; font-family: 'Charm';">${f.escapeHtml(r)}</p>`;f.safeInnerHTML(m,L),o?.appendChild(m)}document.getElementById("form-name").value=c();let n=document.getElementById("form-name");n&&(n.value=i.get("name")??r)},E=()=>{let t=document.getElementById("unauthorized-popup");t.classList.add("show"),setTimeout(()=>{t.classList.remove("show")},2e3)},v=async()=>{let t=`${xe}/guest_list?select=name,message&message_created_at=not.eq.0&order=message_created_at.desc`,n=await(await fetch(t,{method:"GET",headers:{apikey:re,Authorization:`Bearer ${re}`,"Content-Type":"application/json"}})).json();console.log("Wishes:",n),s(n)},s=t=>{let r=document.getElementById("wish-list");r.innerHTML="",t.forEach(n=>{let o=`
        <div class="wish-item">
            <h5 class="mb-1 text-body" style="font-size: 0.9rem; font-style: italic;">${n.name}</h5>
            <p class="mb-0" style="font-size: 1.05rem;">${n.message}</p>
        </div>
        `;r.insertAdjacentHTML("beforeend",o)})},h=async()=>{let r=document.querySelectorAll(".slide-desktop");if(!r||r.length===0)return;let n=document.getElementById("root")?.querySelector(".d-sm-block");if(!n||(n.dispatchEvent(new Event("undangan.slide.stop")),window.getComputedStyle(n).display==="none"))return;if(r.length===1){await f.changeOpacity(r[0],!0);return}let o=0;for(let[I,U]of r.entries())if(I===o){U.classList.add("slide-desktop-active"),await f.changeOpacity(U,!0);break}let m=!0,L=async()=>(await f.changeOpacity(r[o],!1),r[o].classList.remove("slide-desktop-active"),o=(o+1)%r.length,m&&(r[o].classList.add("slide-desktop-active"),await f.changeOpacity(r[o],!0)),m);n.addEventListener("undangan.slide.stop",()=>{m=!1});let B=async()=>{await L()&&f.timeOut(B,6e3)};f.timeOut(B,6e3)},A=t=>{let r=document.getElementById("reception-details");r&&(t===1||!t)?r.style.display="none":r&&(r.style.display="block")},S=t=>{let r=document.getElementById("form-total-pax");if(!r)return;for(;r.options.length>1;)r.remove(1);let n=parseInt(t,10);if(n>0)for(let o=1;o<=n;o++){let m=document.createElement("option");m.value=o.toString(),m.textContent=o.toString(),r.appendChild(m)}else{let o=document.createElement("option");o.value="0",o.textContent="0",r.appendChild(o)}},T=async t=>{let r=c(),n=b();if(r==="Unknown Guest"||!n){a("Cannot open invitation: Guest name or security token (UUID) is missing from the web link."),t.disabled=!0,t.textContent="Please refresh the page",console.warn("invalid auth");return}p(t);let o=`${xe}/guest_list?name=eq.${encodeURIComponent(r)}&token=eq.${encodeURIComponent(n)}`;try{let m=await fetch(o,{headers:{apikey:re,Authorization:`Bearer ${re}`}}),L=await m.json();if(m.ok){if(Array.isArray(L)&&L.length>0){let B=L[0];B.name!==r&&B.token!==n&&(E(),x(t),t.disabled=!1,t.textContent="Open Invitation")}else{E(),x(t),t.disabled=!1,t.textContent="Open Invitation";return}console.warn("Verification Success:",L.message),A(L[0].reception),S(L[0].pax),v(),t.disabled=!0,document.body.scrollIntoView({behavior:"instant"}),document.getElementById("root").classList.remove("opacity-0"),te.isAutoMode()&&document.getElementById("button-theme").classList.remove("d-none"),h(),te.spyTop(),document.dispatchEvent(new Event("undangan.open")),f.changeOpacity(document.getElementById("welcome"),!1).then(B=>B.remove())}else{let B=L.message||"Access Denied: Name or security token is invalid.";a(B),x(t),t.disabled=!0,t.textContent="Access Denied or Please refresh the page";return}}catch(m){console.error("Network error during existence check:",m),E(),x(t),t.disabled=!1,t.textContent="Open Invitation";return}},$=t=>{document.getElementById("button-modal-click").setAttribute("href",t.src),document.getElementById("button-modal-download").setAttribute("data-src",t.src);let r=document.getElementById("show-modal-image");r.src=t.src,r.width=t.width,r.height=t.height,ye.modal("modal-image").show()},C=()=>{document.getElementById("show-modal-image").addEventListener("click",t=>{let r=t.currentTarget.parentNode.querySelector(".position-absolute");r.classList.contains("d-none")?r.classList.replace("d-none","d-flex"):r.classList.replace("d-flex","d-none")})},P=t=>{navigator.vibrate&&navigator.vibrate(500),f.changeOpacity(t,!1).then(r=>r.remove())},M=()=>i.set("info",!0),e=()=>{document.querySelectorAll(".font-arabic").forEach(t=>{t.innerHTML=String(t.innerHTML).normalize("NFC")})},y=()=>{document.querySelectorAll("svg").forEach(t=>{t.hasAttribute("data-class")&&f.timeOut(()=>t.classList.add(t.getAttribute("data-class")),parseInt(t.getAttribute("data-time")))})},k=()=>{let t=o=>new Date(o.replace(" ","T")+":00Z").toISOString().replace(/[-:]/g,"").split(".").shift(),r=new URL("https://calendar.google.com/calendar/render"),n=new URLSearchParams({action:"TEMPLATE",text:"The Wedding of Gian and Stevany",dates:`${t("2026-01-10 10:00")}/${t("2026-01-10 11:00")}`,details:"",location:"Jl. Ki Hajar Dewantara, Pakulonan Barat, Kec. Kelapa Dua, Kab. Tangerang, Banten 15810",ctz:l.get("tz")});r.search=n.toString(),document.querySelector("#home button")?.addEventListener("click",()=>window.open(r,"_blank"))},R=()=>(H.add(),{load:r=>{be(r).then(()=>H.complete("libs")).catch(()=>H.invalid("libs"))}}),q=async()=>{y(),g(),u(),C(),e(),k(),i.has("presence")&&(document.getElementById("form-presence").value=i.get("presence")?"1":"2"),i.get("info")&&document.getElementById("information")?.remove(),await f.changeOpacity(document.getElementById("welcome"),!0),document.getElementById("root").classList.remove("opacity-0"),document.getElementById("root").style.opacity="1"},d=()=>{K.init(),we.init(),de.init(),l=O("config"),i=O("information");let t=ge.init(),r=pe.init(),n=he.init(),o=R(),m=document.body.getAttribute("data-key");window.addEventListener("resize",f.debounce(h)),q(),document.addEventListener("hide.bs.modal",()=>document.activeElement?.blur()),document.getElementById("button-modal-download").addEventListener("click",L=>{r.download(L.currentTarget.getAttribute("data-src"))}),(!m||m.length<=0)&&(document.getElementById("comment")?.remove(),document.querySelector('a.nav-link[href="#comment"]')?.closest("li.nav-item")?.remove(),t.load(),r.load(),n.load(),o.load({confetti:document.body.getAttribute("data-confetti")==="true"})),m&&m.length>0&&(H.add(),H.add(),r.hasDataSrc()||r.load(),z.guest(m).then(({data:L})=>{document.dispatchEvent(new Event("undangan.session")),H.complete("config"),r.hasDataSrc()&&r.load(),t.load(),n.load(),o.load({confetti:L.is_confetti_animation})}).catch(()=>H.invalid("config")))};return{init:()=>(te.init(),z.init(),z.isAdmin()&&(O("user").clear(),O("owns").clear(),O("likes").clear(),O("session").clear(),O("comment").clear()),window.addEventListener("load",()=>{ie.init(d,["image","video","audio","libs","gif"])}),{util:f,theme:te,comment:de,guest:{open:T,modal:$,showStory:P,closeInformation:M}})}})();(i=>{i.undangan=Ee.init()})(window);})();
